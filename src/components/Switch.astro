---

---

<style>
  button {
    position: relative;
    width: 40px;
    height: 20px;
    background-color: #d1d5db; /* gray-300 */
    border-radius: 9999px;
    transition: background-color 0.3s;
  }
  button.dark {
    background-color: #4b5563; /* gray-600 */
  }
  span {
    position: absolute;
    top: 2px;
    left: 2px;
    width: 16px;
    height: 16px;
    background-color: white;
    border-radius: 9999px;
    transition: transform 0.3s;
  }
  button.dark span {
    transform: translateX(20px);
  }
</style>

<button id="theme-toggle" aria-label="Toggle theme">
  <span></span>
</button>

<script>
  if (typeof window !== "undefined") {
    const button = document.getElementById("theme-toggle");

    // Aplicar estado guardado o sistema preferido
    if (
      localStorage.theme === "dark" ||
      (!("theme" in localStorage) &&
        window.matchMedia("(prefers-color-scheme: dark)").matches)
    ) {
      document.documentElement.classList.add("dark");
      button.classList.add("dark");
    } else {
      document.documentElement.classList.remove("dark");
      button.classList.remove("dark");
    }

    button.addEventListener("click", () => {
      const isDark = document.documentElement.classList.toggle("dark");
      button.classList.toggle("dark", isDark);
      localStorage.theme = isDark ? "dark" : "light";
    });
  }
</script>
