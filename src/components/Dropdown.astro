---
import Subtitle from "./Subtitle.astro";
import Switch from "./Switch.astro";
---

<div
  class="max-w-[30rem] w-full mx-auto mt-10 md:mt-20 rounded-2xl p-4 sm:p-6 bg-[#2D2D2D]/80 border-2 border-white/20"
>
  <Subtitle text="Ajustes" class="text-center" />
  <div
    class="w-full px-4 sm:px-8 py-6 sm:py-10 flex flex-col items-center justify-center"
  >
    <table class="w-full max-w-md text-left text-sm">
      <tr class="flex mb-4 sm:mb-0">
        <td
          class="bg-gradient-to-r from-[#e9eeef] to-[#868889] bg-clip-text text-transparent flex items-center font-medium"
        >
          Idiomas
        </td>
        <td class="flex gap-4 text-xs font-bold sm:mt-0 narrow">
          <button data-lang="en" class="text-white/60">EN</button>
          <button data-lang="es" class="text-white">ES</button>
          <button data-lang="de" class="text-white/60">DE</button>
        </td>
      </tr>

      <!-- <tr class="flex mb-4 sm:mb-0">
        <td
          class="bg-gradient-to-r from-[#e9eeef] to-[#868889] bg-clip-text text-transparent flex items-center font-medium"
        >
          Tema Oscuro
        </td>
        <td class="sm:mt-0 cursor-pointer narrow"><Switch /></td>
      </tr> -->
      <tr class="flex">
        <td
          class="bg-gradient-to-r from-[#e9eeef] to-[#868889] bg-clip-text text-transparent flex items-center font-medium"
        >
          Descargar CV
          <td class="sm:mt-0 cursor-pointer narrow">
            <a href="/LozanoEloy.pdf" download="/LozanoEloy.pdf">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="25"
                height="25"
                viewBox="0 0 24 24"
                class="cursor-pointer transition duration-300"
              >
                <rect width="24" height="24" fill="none"></rect>
                <path
                  class="fill-[#e9eeef] transition duration-300"
                  d="m12 16l-5-5l1.4-1.45l2.6 2.6V4h2v8.15l2.6-2.6L17 11zm-6 4q-.825 0-1.412-.587T4 18v-3h2v3h12v-3h2v3q0 .825-.587 1.413T18 20z"
                ></path>
              </svg>
            </a>
          </td>
        </td>
      </tr>
    </table>
    <div class="flex gap-4 justify-start mt-8 w-full">
      <a
        href="https://github.com/eloylozano"
        aria-label="GitHub"
        class="transform transition-transform duration-200 hover:scale-[1.01]"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5 social"
          viewBox="0 0 24 24"
        >
          <path
            fill="#e9eeef"
            class="social"
            d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"
          ></path>
        </svg>
      </a>

      <a
        href="https://www.linkedin.com/in/eloylozano/"
        aria-label="LinkedIn"
        class="transform transition-transform duration-200 hover:scale-[1.01]"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5 social"
          viewBox="0 0 24 24"
        >
          <path
            fill="#e9eeef"
            d="M6.94 5a2 2 0 1 1-4-.002a2 2 0 0 1 4 .002M7 8.48H3V21h4zm6.32 0H9.34V21h3.94v-6.57c0-3.66 4.77-4 4.77 0V21H22v-7.93c0-6.17-7.06-5.94-8.72-2.91z"
          ></path>
        </svg>
      </a>

      <a
        href="https://www.tiktok.com/@eloyloozano"
        aria-label="TikTok"
        class="transform transition-transform duration-200 hover:scale-[1.01]"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5 social"
          viewBox="0 0 24 24"
        >
          <path
            fill="#e9eeef"
            d="M16.6 5.82s.51.5 0 0A4.28 4.28 0 0 1 15.54 3h-3.09v12.4a2.59 2.59 0 0 1-2.59 2.5c-1.42 0-2.6-1.16-2.6-2.6c0-1.72 1.66-3.01 3.37-2.48V9.66c-3.45-.46-6.47 2.22-6.47 5.64c0 3.33 2.76 5.7 5.69 5.7c3.14 0 5.69-2.55 5.69-5.7V9.01a7.35 7.35 0 0 0 4.3 1.38V7.3s-1.88.09-3.24-1.48"
          ></path>
        </svg>
      </a>

      <a
        href="https://www.instagram.com/eloyloozano/"
        aria-label="Instagram"
        class="transform transition-transform duration-200 hover:scale-[1.01]"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5 social"
          viewBox="0 0 24 24"
        >
          <path
            fill="#e9eeef"
            d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4zm9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8A1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5a5 5 0 0 1-5 5a5 5 0 0 1-5-5a5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3a3 3 0 0 0 3 3a3 3 0 0 0 3-3a3 3 0 0 0-3-3"
          ></path>
        </svg>
      </a>
    </div>
  </div>
</div>
<style>
  td.narrow {
    width: 5rem;
    flex-shrink: 0;
  }

  td {
    height: 50px;
    display: flex;
    align-items: center;
  }

  tr {
    justify-content: space-between;
  }
</style>

<script>
  // Al cargar la página
  document.addEventListener("DOMContentLoaded", () => {
    const buttons = document.querySelectorAll("button[data-lang]");
    const savedLang = localStorage.getItem("lang") || "es"; // idioma por defecto

    // Resalta el botón activo
    buttons.forEach((btn) => {
      btn.classList.toggle("text-white", btn.dataset.lang === savedLang);
      btn.classList.toggle("text-white/60", btn.dataset.lang !== savedLang);
    });

    // Al click en un botón, cambia idioma
    buttons.forEach((btn) => {
      btn.addEventListener("click", () => {
        const selectedLang = btn.dataset.lang;
        localStorage.setItem("lang", selectedLang);

        // Actualiza estilos botones
        buttons.forEach((b) => {
          b.classList.toggle("text-white", b.dataset.lang === selectedLang);
          b.classList.toggle("text-white/60", b.dataset.lang !== selectedLang);
        });

        // Aquí puedes hacer algo más, como recargar o cambiar contenido:
        // location.reload(); // si usas archivos distintos por idioma

        // O disparar un evento para que tu app reaccione al cambio de idioma
      });
    });
  });
</script>
